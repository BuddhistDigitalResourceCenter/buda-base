##
# this file lives in /etc/nginx/sites-enabled/default
#
# You should look at the following URL's in order to grasp a solid understanding
# of Nginx configuration files in order to fully unleash the power of Nginx.
# https://www.nginx.com/resources/wiki/start/
# https://www.nginx.com/resources/wiki/start/topics/tutorials/config_pitfalls/
# https://wiki.debian.org/Nginx/DirectoryStructure
#
# see /etc/nginx/sites-available/default the original default
##

server {
	listen 80 default_server;

	index index.jsp index.html;

	# server_name purl.bdrc.io buda1.bdrc.io;

	location / {
		add_header 'Access-Control-Allow-Origin' '*';
	    proxy_pass http://localhost:13280/;
	}
}

server {
	listen 80 default_server;

	server_name iiif.bdrc.io images.bdrc.io;

	location / {
		add_header 'Access-Control-Allow-Origin' '*';
	    proxy_pass http://localhost:9099/;
	}
}

server {
	listen 80;

   root /usr/local/blmp/blmp-prototype-flow/build/ ;

   server_name editor.bdrc.io;

   index index.html;

	location / {
       try_files $uri /index.html;
	}
}
