# Systemd unit file for Marple on Debian
# for use with fuseki, solr, elasticsearch,, etc

[Unit]
Description=<%= ENV['MARPLE_SVC_DESC'] %>
After=syslog.target network.target

[Service]
Type=forking

Environment=JAVA_HOME=<%= ENV['JAVA_HOME'] %>

User=<%= ENV['TC_USER'] %>
Group=<%= ENV['TC_GROUP'] %>

UMask=0007

PIDFile=<%= ENV['MARPLE_HOME'] %>/marple.pid

ExecStart=<%= ENV['JAVA_HOME'] %>/bin/java -jar <%= ENV['MARPLE_HOME'] %>/<%= ENV['MARPLE_JAR'] %> server <%= ENV['MARPLE_HOME'] %>/config.yml
ExecStop=cat <%= ENV['$MARPLE_HOME'] %>/marple.pid | kill -9 -

RestartSec=10
Restart=always

[Install]
WantedBy=multi-user.target
